Kastor Detective Academy 웹 게임을 대폭 개선해주세요. 현재 버전은 모든 선택지가 정답이라 긴장감이 없고, 플레이어가 수동적으로 스토리를 읽기만 하는 느낌입니다. 아래 요구사항을 모두 반영해 ‘중학생이 직접 추리하고 실패/성공을 체감할 수 있는 데이터 탐정 게임’으로 만들어 주세요.

## 1. 진짜 추리 요소 추가
- **선택지에 오답 포함**: 각 에피소드의 중요 의사결정 시 최소 2~3개의 선택지 중 일부는 틀린 결과가 되도록 구성하세요.  
  - 오답을 고르면 XP 감산 또는 탐정 평가 점수가 하락하고, 힌트 또는 재도전 루틴으로 이어집니다.  
  - 반복 클릭으로 건너뛰지 못하도록 ‘다시 읽고 증거를 확인’ 흐름을 만드세요.
- **엔딩 분기**: 누적 오답이나 잘못된 추리를 지속하면 ‘실패 엔딩’(범인 도주, 사건 미해결 등)을 보여주고, 정답 루트를 따르면 ‘성공 엔딩’을 보이도록 설계하세요.  
  - 실패 엔딩 후에는 “이 증거를 놓쳤습니다” 같은 힌트를 제공해 재도전 유도.

## 2. 역전재판 스타일 증거 제시 시스템
- 플레이어가 특정 장면에서 “증거 항목을 직접 선택해 제시”해야 스토리가 진행되도록 구현하세요.
  - 예: NPC가 거짓말을 할 때, 플레이어가 ‘증거 목록(캡션과 간단 설명이 있는 카드 형식)’에서 맞는 증거를 고르고 “제시하기” 버튼을 눌러야 다음 장면으로 넘어갑니다.
  - 틀린 증거를 제시하면 감점, 힌트 제안, 혹은 추가 대화.  
  - 증거 목록은 차트/테이블/로그를 요약한 카드 형태로 제공하고, 클릭 시 확대/상세 내용을 볼 수 있게 합니다.
- 이 기능을 위해 재사용 가능한 UI 컴포넌트를 만들어 주세요. (예: `EvidencePanel` + `PresentEvidenceModal`)

## 3. 실제 메신저/카톡 느낌 강화
- **메시지 전송 방식**: 플레이어가 선택지를 고르면 “내 메시지”가 채팅창에 말풍선으로 올라가고, 상대 캐릭터는 “입력 중…” 로딩 후 응답하도록 구현하세요.
- **UI 분위기 개선**: 채팅창을 메신저 앱처럼 꾸며주세요. 예) 좌측에 캐릭터, 우측에 플레이어, 말풍선 형태.  
  - 전송 버튼, 입력창(텍스트는 자동 채워지거나 선택지가 붙는 형태) 추가.  
  - 모바일 대응 필수.
- **응답 지연 연출**: 선택 직후 즉시 답변이 나오지 않고 0.5~1.5초 사이 랜덤 딜레이 후 등장.

## 4. 데이터 퍼즐을 “게임”으로 변환
- 예: 라인 차트에서 이상치를 직접 클릭해야 다음 대화가 진행되도록(인터랙티브) 만들어 주세요.
  - 차트의 특정 지점을 클릭하면 “이 날짜에 이상한 패치가 있었네!” 같은 메시지 출력.
- IP 매칭 퍼즐: 단순히 텍스트로 연결하는 대신, 드래그해서 연결하는 미니게임으로 구현.
  - 예: IP 주소 카드와 직원 카드 두 줄을 드래그&드롭으로 연결. 틀린 연결은 붉게 표시.
  - 제한 시간(예: 60초) 내 맞추지 못하면 감점 또는 힌트 제시.

## 5. 타임 압박 & 난이도
- 주요 장면에 타이머 추가: 시간을 초과하면 힌트를 강제로 사용하거나, 평가 점수가 떨어지도록 설계.
- 에피소드 전반의 난이도 설정: 쉬움/보통/어려움으로 구분하고,  
  - 쉬움: 힌트 제한 없음, 오답 패널티 낮음.  
  - 보통: 힌트 제한, 오답 시 일부 루프 필요.  
  - 어려움: 타임 압박 강함, 오답 시 실패 엔딩으로 빠르게 진행.
  - UI에서 난이도 선택하도록 하고, 결과 화면에 난이도별 평가 표시.

## 6. 텍스트 흐름 & 연출
- **장면 스킵 옵션**: 긴 대사 블록을 건너뛸 수 있도록, “Skip/Auto” 버튼을 추가.
- **에피소드 구조 재편**: 시스템 메시지, 내레이션, 캐릭터 대사를 시각적으로 더 차별화하세요. 예: 시스템(노란색), 내레이션(회색 이탤릭), 캐릭터(각자 색).  
- 클릭 피로 감소를 위해 “한 번 클릭 시 여러 줄이 자연스럽게 스크롤”되는 옵션도 고려.

## 7. 성적 평가 시스템 개선
- 기존 ‘15분 이내 S등급’ 같은 단순 기준 대신,  
  - 정답률, 힌트 사용, 오답 횟수, 시간, 증거 제시 성공률 등을 종합한 점수 체계를 구성.
  - 결과 화면에 그래프나 레이더 차트로 시각화하여 자신의 탐정 능력을 객관적으로 볼 수 있게 해주세요.
- ‘탐정 노트’에 내가 선택한 옵션과 감점/가산 내역을 기록해 다음 플레이 때 참고 가능하도록.

## 8. 기술적 가이드
- 현재 프로젝트 구조(HTML/JS/스타일)와 조화를 이루도록 구현.  
- UI 컴포넌트 재사용성을 고려하여, 선택지/증거 제시/차트 인터랙션 등을 모듈화.  
- 충분한 주석을 달아 다른 개발자도 쉽게 유지보수 가능하도록 할 것.

## 9. 테스트 시나리오
- 다음 상황이 반드시 구현되었는지 자동/수동 테스트를 통해 확인:
  - 오답 선택 시 감점 및 힌트 루틴 정상 작동
  - 증거 제시 모달에서 틀린 증거를 선택했을 때 처리
  - 차트 이상치 클릭, IP 매칭 퍼즐 성공/실패 흐름
  - 난이도 별 타이머/패널티 차별화
  - 결과 화면에서 다중 지표 기반 평가 표시

위 요구사항이 모두 만족될 때까지 코드를 업데이트하고, 필요하면 기존 구조를 대폭 수정해도 좋습니다. 핵심 목표는 “학생이 직접 추리하고, 실수하고, 다시 도전하는 재미”를 느끼게 하는 것입니다.